<mxfile host="app.diagrams.net" modified="2022-04-07T03:48:42.855Z" agent="5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.88 Safari/537.36" etag="y-Mt57CNOdCuNVTxJXA1" version="17.4.0" type="github">
  <diagram id="C5RBs43oDa-KdzZeNtuy" name="Page-1">
    <mxGraphModel dx="828" dy="478" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-0" />
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-1" parent="WIyWlLk6GJQsqaUBKTNV-0" />
        <mxCell id="0kz52hGXufhBx_2LI1v2-0" value="" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="170" y="190" width="440" height="40" as="geometry" />
        </mxCell>
        <mxCell id="0kz52hGXufhBx_2LI1v2-1" value="" style="line;strokeWidth=4;direction=south;html=1;perimeter=backbonePerimeter;points=[];outlineConnect=0;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="240" y="190" width="10" height="40" as="geometry" />
        </mxCell>
        <mxCell id="0kz52hGXufhBx_2LI1v2-2" value="Running" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="180" y="170" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0kz52hGXufhBx_2LI1v2-3" value="Terminating" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="350" y="170" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0kz52hGXufhBx_2LI1v2-4" value="" style="line;strokeWidth=4;direction=south;html=1;perimeter=backbonePerimeter;points=[];outlineConnect=0;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="540" y="190" width="10" height="40" as="geometry" />
        </mxCell>
        <mxCell id="0kz52hGXufhBx_2LI1v2-5" value="Terminated" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="540" y="170" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0kz52hGXufhBx_2LI1v2-9" value="" style="group" vertex="1" connectable="0" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="210" y="111" width="70" height="70" as="geometry" />
        </mxCell>
        <mxCell id="0kz52hGXufhBx_2LI1v2-7" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="0kz52hGXufhBx_2LI1v2-9">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="34.65999999999997" y="15.555555555555555" as="sourcePoint" />
            <mxPoint x="34.65999999999997" y="70" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0kz52hGXufhBx_2LI1v2-8" value="SIGTERM" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="0kz52hGXufhBx_2LI1v2-9">
          <mxGeometry width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0kz52hGXufhBx_2LI1v2-10" value="" style="group" vertex="1" connectable="0" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="510" y="111" width="70" height="70" as="geometry" />
        </mxCell>
        <mxCell id="0kz52hGXufhBx_2LI1v2-11" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="0kz52hGXufhBx_2LI1v2-10">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="34.65999999999997" y="15.555555555555555" as="sourcePoint" />
            <mxPoint x="34.65999999999997" y="70" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0kz52hGXufhBx_2LI1v2-12" value="SIGKILL" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="0kz52hGXufhBx_2LI1v2-10">
          <mxGeometry x="5" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0kz52hGXufhBx_2LI1v2-14" value="&lt;font style=&quot;font-size: 10px&quot;&gt;terminationGracePeriodSeconds：30s&amp;nbsp;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=10;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="280" y="200" width="220" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0kz52hGXufhBx_2LI1v2-15" value="" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="170" y="397" width="440" height="40" as="geometry" />
        </mxCell>
        <mxCell id="0kz52hGXufhBx_2LI1v2-16" value="" style="line;strokeWidth=4;direction=south;html=1;perimeter=backbonePerimeter;points=[];outlineConnect=0;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="240" y="397" width="10" height="40" as="geometry" />
        </mxCell>
        <mxCell id="0kz52hGXufhBx_2LI1v2-17" value="Running" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="180" y="377" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0kz52hGXufhBx_2LI1v2-18" value="Terminating" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="350" y="377" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0kz52hGXufhBx_2LI1v2-19" value="" style="line;strokeWidth=4;direction=south;html=1;perimeter=backbonePerimeter;points=[];outlineConnect=0;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="540" y="397" width="10" height="40" as="geometry" />
        </mxCell>
        <mxCell id="0kz52hGXufhBx_2LI1v2-20" value="Terminated" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="540" y="377" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0kz52hGXufhBx_2LI1v2-21" value="" style="group" vertex="1" connectable="0" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="400" y="320" width="70" height="70" as="geometry" />
        </mxCell>
        <mxCell id="0kz52hGXufhBx_2LI1v2-22" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="0kz52hGXufhBx_2LI1v2-21">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="34.65999999999997" y="15.555555555555555" as="sourcePoint" />
            <mxPoint x="34.65999999999997" y="70" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0kz52hGXufhBx_2LI1v2-23" value="SIGTERM" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="0kz52hGXufhBx_2LI1v2-21">
          <mxGeometry width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0kz52hGXufhBx_2LI1v2-24" value="" style="group" vertex="1" connectable="0" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="510" y="320" width="70" height="70" as="geometry" />
        </mxCell>
        <mxCell id="0kz52hGXufhBx_2LI1v2-25" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="0kz52hGXufhBx_2LI1v2-24">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="34.65999999999997" y="15.555555555555555" as="sourcePoint" />
            <mxPoint x="34.65999999999997" y="70" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0kz52hGXufhBx_2LI1v2-26" value="SIGKILL" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="0kz52hGXufhBx_2LI1v2-24">
          <mxGeometry x="5" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0kz52hGXufhBx_2LI1v2-27" value="&lt;font style=&quot;font-size: 10px&quot;&gt;terminationGracePeriodSeconds：30s&amp;nbsp;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=10;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="280" y="407" width="220" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0kz52hGXufhBx_2LI1v2-28" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;fontSize=10;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="440" y="437" as="sourcePoint" />
            <mxPoint x="440" y="397" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0kz52hGXufhBx_2LI1v2-29" value="" style="shape=crossbar;whiteSpace=wrap;html=1;rounded=1;fontSize=10;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="246" y="447" width="194" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0kz52hGXufhBx_2LI1v2-31" value="PreStop: 20s" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=10;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="295" y="437" width="90" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0kz52hGXufhBx_2LI1v2-32" value="" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="170" y="647" width="440" height="40" as="geometry" />
        </mxCell>
        <mxCell id="0kz52hGXufhBx_2LI1v2-33" value="" style="line;strokeWidth=4;direction=south;html=1;perimeter=backbonePerimeter;points=[];outlineConnect=0;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="240" y="647" width="10" height="40" as="geometry" />
        </mxCell>
        <mxCell id="0kz52hGXufhBx_2LI1v2-34" value="Running" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="180" y="627" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0kz52hGXufhBx_2LI1v2-35" value="Terminating" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="350" y="627" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0kz52hGXufhBx_2LI1v2-36" value="" style="line;strokeWidth=4;direction=south;html=1;perimeter=backbonePerimeter;points=[];outlineConnect=0;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="540" y="647" width="10" height="40" as="geometry" />
        </mxCell>
        <mxCell id="0kz52hGXufhBx_2LI1v2-37" value="Terminated" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="540" y="627" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0kz52hGXufhBx_2LI1v2-38" value="" style="group" vertex="1" connectable="0" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="510" y="500" width="70" height="70" as="geometry" />
        </mxCell>
        <mxCell id="0kz52hGXufhBx_2LI1v2-39" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="0kz52hGXufhBx_2LI1v2-38">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="34.65999999999997" y="15.555555555555555" as="sourcePoint" />
            <mxPoint x="34.65999999999997" y="70" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0kz52hGXufhBx_2LI1v2-40" value="SIGTERM" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="0kz52hGXufhBx_2LI1v2-38">
          <mxGeometry width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0kz52hGXufhBx_2LI1v2-41" value="" style="group" vertex="1" connectable="0" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="510" y="570" width="70" height="70" as="geometry" />
        </mxCell>
        <mxCell id="0kz52hGXufhBx_2LI1v2-42" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="0kz52hGXufhBx_2LI1v2-41">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="34.65999999999997" y="15.555555555555555" as="sourcePoint" />
            <mxPoint x="34.65999999999997" y="70" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0kz52hGXufhBx_2LI1v2-43" value="SIGKILL" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="0kz52hGXufhBx_2LI1v2-41">
          <mxGeometry x="5" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0kz52hGXufhBx_2LI1v2-44" value="&lt;font style=&quot;font-size: 10px&quot;&gt;terminationGracePeriodSeconds：120s&amp;nbsp;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=10;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="275" y="657" width="230" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0kz52hGXufhBx_2LI1v2-45" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;fontSize=10;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="544.71" y="687" as="sourcePoint" />
            <mxPoint x="544.71" y="647" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0kz52hGXufhBx_2LI1v2-46" value="" style="shape=crossbar;whiteSpace=wrap;html=1;rounded=1;fontSize=10;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="246" y="697" width="294" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0kz52hGXufhBx_2LI1v2-47" value="PreStop: 120s" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=10;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="360" y="687" width="90" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0kz52hGXufhBx_2LI1v2-49" value="1. Pod 进入Terminating 状态&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;br&gt;2. 发送SIGTERM信号至pod的1号进程&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;br&gt;3. 与此同时SVC将该pod移除endpoints列表&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;br&gt;4. 如果terminationGracePeriodSeconds内没有退出，强制退出发送SIGKILL信号&amp;nbsp; &amp;nbsp;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=10;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="160" y="40" width="450" height="50" as="geometry" />
        </mxCell>
        <mxCell id="0kz52hGXufhBx_2LI1v2-51" value="Pod的生命周期" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=10;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="340" y="240" width="100" height="20" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
